---
layout: post
title:  nodejs+express搭建后台服务中间层
date:   2017-09-08 09:08:00 +0800
categories: nodejs
tag: nodejs、express
---

* content
{:toc}


前言
===================
  现在很多公司都开始使用nodejs做为后台服务的中间层，nodejs相对于Tomcat的优劣分析，网上有很多，这里简单聊一下。	
  优势：
  1. nodejs把每个请求注册为一个事件，采用回调函数的方式来处理请求，这样使其在高并发的请求面前表现出色。
  2. nodejs+npm使其拥有强大的开源社区、开源插件的支持，这对于前端开发者来说可以十分便捷快速的部署一些系统服务。
  3. 对前端er十分友好，本地调试方便。
  劣势：
  1. nodejs是单线程的，相当于永远使用一个单核cpu ，导致其读写能力差。对于多核服务器会造成资源浪费。
  2. nodejs的可靠性（初期）。

  总结：*nodejs适合针对高并发逻辑简单请求的场景处理，不适合处理一些高io，高读写，操作复杂的请求。*
  我司转型系统架构，采用nodejs作为中间层，主要考虑到优势2和3。因为目前系统应用中并没有并发量十分巨大的场景。

搭建
====================
使用脚手架可以初始化一个简单的node+express+webpack的project。在此基础上进行微调得到以下目录结构

![node结构](/styles/images/node.png)

下面对每个目录的功能进行介绍：
